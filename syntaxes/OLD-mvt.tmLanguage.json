{
	"name": "Miva Template Language (MVT)",
	"patterns": [
		{
			"include": "#mvt-comment"
		},
		{
			"include": "#mvt-entities"
		},
		{
			"include": "#mvt-tags"
		},
		{
			"include": "text.html.basic"
		}
	],
	"repository": {
		"mvt-tags": {
			"patterns": [
				{
					"begin": "(?i)(<)(mvt)(:)(callcontinue|callstop|foreachcontinue|foreachstop|whilecontinue|whilestop|item|exit|else|miva|elseif|eval|do|assign)(?=\\s|>)",
					"beginCaptures": {
						"1": { "name": "punctuation.definition.tag.begin.mvt meta.preprocessor.begin.mvt" },
						"2": { "name": "storage.type.namespace.mvt meta.preprocessor.namespace.mvt" },
						"3": { "name": "storage.type.namespace.separator.mvt meta.preprocessor.namespace.separator.mvt" },
						"4": { "name": "storage.type.localname.mvt meta.preprocessor.localname.mvt" }
					},
					"end": "/?>",
					"endCaptures": {
						"0": {
							"name": "punctuation.definition.tag.end.mvt meta.preprocessor.end.mvt"
						}
					},
					"name": "meta.tag.structure.$4.start.mvt"
				},
				{
					"begin": "(?i)(<)(mvt)(:)(capture|call|foreach|while|if|)(?=\\s|/?>)",
					"beginCaptures": {
						"1": { "name": "punctuation.definition.tag.begin.mvt meta.preprocessor.begin.mvt" },
						"2": { "name": "storage.type.namespace.mvt meta.preprocessor.namespace.mvt" },
						"3": { "name": "storage.type.namespace.separator.mvt meta.preprocessor.namespace.separator.mvt" },
						"4": { "name": "storage.type.localname.mvt meta.preprocessor.localname.mvt" }
					},
					"end": ">",
					"endCaptures": {
						"0": {
							"name": "punctuation.definition.tag.end.mvt meta.preprocessor.end.mvt"
						}
					},
					"name": "meta.tag.structure.$4.start.mvt"
				}
			]
		},
		"mvt-entities": {
			"match": "(?i)(&)(mvt)(a|e|j|s)?(:)([a-zA-Z_][a-zA-Z0-9_:\\[\\]]*)(;)",
			"captures": {
				"1": { "name": "constant.character.entity.begin.mvt" },
				"2": { "name": "constant.character.entity.namespace.mvt" },
				"3": { "name": "constant.character.entity.encoding.mvt" },
				"4": { "name": "constant.character.entity.separator.mvt" },
				"5": { "name": "constant.character.entity.identifier.mvt" },
				"6": { "name": "constant.character.entity.end.mvt" }
			}
		},
		"mvt-comment": {
			"begin": "<mvt:comment>",
			"captures": {
				"0": {
					"name": "punctuation.definition.comment.mvt"
				}
			},
			"end": "<\/mvt:comment>",
			"name": "comment.block.html.mvt",
			"patterns": [
				{
					"match": "<\/mvt:comment>",
					"name": "invalid.illegal.characters-not-allowed-here.mvt"
				}
			]
		}
	},
	"scopeName": "text.html.mvt"
}